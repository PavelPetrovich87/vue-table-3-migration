(function(u,t){typeof exports=="object"&&typeof module<"u"?module.exports=t(require("axios"),require("vue")):typeof define=="function"&&define.amd?define(["axios","vue"],t):(u=typeof globalThis<"u"?globalThis:u||self,u["vue-table-migation"]=t(u.axios,u.Vue))})(this,function(u,t){"use strict";const w=(e=>e&&typeof e=="object"&&"default"in e?e:{default:e})(u),b={props:{rowData:{type:Object,default:null},rowIndex:{type:Number},rowField:{type:Object},isHeader:{type:Boolean,default:!1},title:{type:String,default:""},vuetable:{type:Object,default:null}}},B={mixins:[b],methods:{toggleCheckbox(e,l){this.vuetable.onCheckboxToggled(l.target.checked,this.rowField.name,e)},toggleAllCheckbox(e){this.vuetable.onCheckboxToggledAll(e.target.checked)},isSelected(e){return this.vuetable.isSelectedRow(e[this.vuetable.trackBy])},isAllItemsInCurrentPageSelected(){if(!this.vuetable.tableData)return;let e=this.vuetable.trackBy,l=this.$el.querySelector("input[type=checkbox]"),a=this.vuetable.tableData.filter(i=>this.vuetable.isSelectedRow(i[e]));return a.length<=0?(l.indeterminate=!1,!1):a.length<this.vuetable.perPage?(l.indeterminate=!0,!0):(l.indeterminate=!1,!0)}}},h=(e,l)=>{const a=e.__vccOpts||e;for(const[i,o]of l)a[i]=o;return a},O={name:"vuetable-field-checkbox",mixins:[B]},_={key:0,class:"vuetable-th-component-checkbox"},T=["checked"],R={key:1,class:"vuetable-td-component-checkbox"},H=["checked"];function I(e,l,a,i,o,s){return e.isHeader?(t.openBlock(),t.createElementBlock("th",_,[t.createElementVNode("input",{type:"checkbox",onChange:l[0]||(l[0]=c=>e.toggleAllCheckbox(c)),checked:e.isAllItemsInCurrentPageSelected()},null,40,T)])):(t.openBlock(),t.createElementBlock("td",R,[t.createElementVNode("input",{type:"checkbox",onChange:l[1]||(l[1]=c=>e.toggleCheckbox(e.rowData,c)),checked:e.isSelected(e.rowData)},null,40,H)]))}const g=h(O,[["render",I]]),z={name:"vuetable-field-handle",mixins:[b],computed:{css(){return this.vuetable.customCss}},methods:{renderIconTag(e,l=""){return typeof this.css.renderIcon>"u"?`<i class="${e.join(" ")}" ${l}></i>`:this.css.renderIcon(e,l)}}},M=["innerHTML"],N=["innerHTML"];function L(e,l,a,i,o,s){return e.isHeader?(t.openBlock(),t.createElementBlock("th",{key:0,class:"vuetable-th-component-handle",innerHTML:e.title},null,8,M)):(t.openBlock(),t.createElementBlock("td",{key:1,class:"vuetable-td-component-handle",innerHTML:s.renderIconTag(["handle-icon",s.css.handleIcon])},null,8,N))}const f=h(z,[["render",L]]),$={name:"vuetable-field-sequence",mixins:[b],methods:{renderSequence(){return this.vuetable.tablePagination?this.vuetable.tablePagination.from+this.rowIndex:1+this.rowIndex}}},j=["innerHTML"],x=["innerHTML"];function A(e,l,a,i,o,s){return e.isHeader?(t.openBlock(),t.createElementBlock("th",{key:0,class:"vuetable-th-component-sequence",innerHTML:e.title},null,8,j)):(t.openBlock(),t.createElementBlock("td",{key:1,class:"vuetable-td-component-sequence",innerHTML:s.renderSequence()},null,8,x))}const p=h($,[["render",A]]),Se="",v={name:"vuetable-th-gutter",computed:{vuetable(){return this.$parent}}};function q(e,l,a,i,o,s){return t.openBlock(),t.createElementBlock("th",{style:t.normalizeStyle({width:s.vuetable.scrollBarWidth}),class:"vuetable-th-gutter"},null,4)}const k=h(v,[["render",q]]),W={components:{"vuetable-field-checkbox":g,"vuetable-field-handle":f,"vuetable-field-sequence":p,VuetableColGutter:k},computed:{sortOrder(){return this.$parent.sortOrder},css(){return this.$parent.customCss},vuetable(){return this.$parent}},methods:{stripPrefix(e){return e.replace(this.vuetable.fieldPrefix,"")},headerClass(e,l){return[e+"-"+this.toSnakeCase(l.name),l.titleClass||"",this.sortClass(l),{sortable:this.vuetable.isSortable(l)}]},toSnakeCase(e){return typeof e=="string"&&e.replace(/([A-Z])/g,l=>"_"+l.toLowerCase()).replace(" ","_").replace(".","_")},sortClass(e){let l="",a=this.currentSortOrderPosition(e);return a!==!1&&(l=this.sortOrder[a].direction=="asc"?this.css.ascendingClass:this.css.descendingClass),l},sortIcon(e){let l=this.css.sortableIcon,a=this.currentSortOrderPosition(e);return a!==!1&&(l=this.sortOrder[a].direction=="asc"?this.css.ascendingIcon:this.css.descendingIcon),l},isInCurrentSortGroup(e){return this.currentSortOrderPosition(e)!==!1},hasSortableIcon(e){return this.vuetable.isSortable(e)&&this.css.sortableIcon!=""},currentSortOrderPosition(e){if(!this.vuetable.isSortable(e))return!1;for(let l=0;l<this.sortOrder.length;l++)if(this.fieldIsInSortOrderPosition(e,l))return l;return!1},fieldIsInSortOrderPosition(e,l){return this.sortOrder[l].field===e.name&&this.sortOrder[l].sortField===e.sortField},renderTitle(e){let l=this.getTitle(e);if(l.length>0&&this.isInCurrentSortGroup(e)||this.hasSortableIcon(e)){let a=`opacity:${this.sortIconOpacity(e)};position:relative;float:right`,i=this.vuetable.showSortIcons?this.renderIconTag(["sort-icon",this.sortIcon(e)],`style="${a}"`):"";return l+" "+i}return l},getTitle(e){return typeof e.title=="function"?e.title():typeof e.title>"u"?e.name.replace("."," "):e.title},sortIconOpacity(e){let l=1,a=.3,i=.3,o=this.sortOrder.length,s=this.currentSortOrderPosition(e);return l-o*i<a&&(i=(l-a)/(o-1)),l-s*i},renderIconTag(e,l=""){return typeof this.css.renderIcon>"u"?`<i class="${e.join(" ")}" ${l}></i>`:this.css.renderIcon(e,l)},onColumnHeaderClicked(e,l){this.vuetable.orderBy(e,l)}}},G=["innerHTML","onClick"],U=["onClick","id","innerHTML"];function K(e,l,a,i,o,s){const c=t.resolveComponent("vuetable-col-gutter");return t.openBlock(),t.createElementBlock("tr",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.vuetable.tableFields,(n,d)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[n.visible?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[s.vuetable.isFieldComponent(n.name)?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(n.name),{"row-field":n,"is-header":!0,title:s.renderTitle(n),vuetable:s.vuetable,key:d,class:t.normalizeClass(s.headerClass("vuetable-th-component",n)),style:t.normalizeStyle({width:n.width}),"onVuetable:headerEvent":s.vuetable.onHeaderEvent,onClick:r=>s.onColumnHeaderClicked(n,r)},null,40,["row-field","title","vuetable","class","style","onVuetable:headerEvent","onClick"])):s.vuetable.isFieldSlot(n.name)?(t.openBlock(),t.createElementBlock("th",{class:t.normalizeClass(s.headerClass("vuetable-th-slot",n)),key:d,style:t.normalizeStyle({width:n.width}),innerHTML:s.renderTitle(n),onClick:r=>s.onColumnHeaderClicked(n,r)},null,14,G)):(t.openBlock(),t.createElementBlock("th",{onClick:r=>s.onColumnHeaderClicked(n,r),key:d,id:"_"+n.name,class:t.normalizeClass(s.headerClass("vuetable-th",n)),style:t.normalizeStyle({width:n.width}),innerHTML:s.renderTitle(n)},null,14,U))],64)):t.createCommentVNode("",!0)],64))),256)),s.vuetable.scrollVisible?(t.openBlock(),t.createBlock(c,{key:0})):t.createCommentVNode("",!0)])}const C=h(W,[["render",K]]),Q={name:"vuetable-col-group",props:{isHeader:{type:Boolean,default:!1},fieldPrefix:{type:String,default(){return"vuetable-field-"}}},computed:{vuetable(){return this.$parent}},methods:{columnClass(e,l){let a=typeof e.name=="object"&&e.name!==null?e.name.name:e.name;return a=a.replace(this.fieldPrefix,""),["vuetable-col-"+a,e.titleClass]}}};function Y(e,l,a,i,o,s){return t.openBlock(),t.createElementBlock("colgroup",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.vuetable.tableFields,(c,n)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[c.visible?(t.openBlock(),t.createElementBlock("col",{key:n,style:t.normalizeStyle({width:c.width}),class:t.normalizeClass(s.columnClass(c,n))},null,6)):t.createCommentVNode("",!0)],64))),256)),a.isHeader&&s.vuetable.scrollVisible?(t.openBlock(),t.createElementBlock("col",{key:0,style:t.normalizeStyle({width:s.vuetable.scrollBarWidth}),class:"vuetable-col-gutter"},null,4)):t.createCommentVNode("",!0)])}const Z=h(Q,[["render",Y]]),y={table:{tableWrapper:"",tableHeaderClass:"fixed",tableBodyClass:"fixed",tableClass:"ui blue selectable unstackable celled table",loadingClass:"loading",ascendingIcon:"blue chevron up icon",descendingIcon:"blue chevron down icon",ascendingClass:"sorted-asc",descendingClass:"sorted-desc",sortableIcon:"grey sort icon",handleIcon:"grey sidebar icon"},pagination:{wrapperClass:"ui right floated pagination menu",activeClass:"active large",disabledClass:"disabled",pageClass:"item",linkClass:"icon item",paginationClass:"ui bottom attached segment grid",paginationInfoClass:"left floated left aligned six wide column",dropdownClass:"ui search dropdown",icons:{first:"angle double left icon",prev:"left chevron icon",next:"right chevron icon",last:"angle double right icon"}},paginationInfo:{infoClass:"left floated left aligned six wide column"}},Fe="",J={name:"Vuetable",components:{VuetableRowHeader:C,VuetableColGroup:Z},emits:["vuetable:initialized","vuetable:loading","vuetable:loaded","vuetable:load-success","vuetable:load-error","vuetable:pagination-data","vuetable:scrollbar-visible","vuetable:row-clicked","vuetable:row-dblclicked","vuetable:detail-row-clicked","vuetable:cell-clicked","vuetable:cell-dblclicked","vuetable:cell-rightclicked","vuetable:row-mouseover","vuetable:field-event","vuetable:header-event","vuetable:data-reset","vuetable:checkbox-toggled","vuetable:checkbox-toggled-all"],props:{fields:{type:Array,required:!0},loadOnStart:{type:Boolean,default:!0},apiUrl:{type:String,default:""},httpMethod:{type:String,default:"get",validator:e=>["get","post"].indexOf(e)>-1},reactiveApiUrl:{type:Boolean,default:!0},apiMode:{type:Boolean,default:!0},data:{type:[Array,Object],default:null},dataManager:{type:Function,default:null},dataPath:{type:String,default:"data"},paginationPath:{type:String,default:"links.pagination"},queryParams:{type:[Object,Function],default(){return{sort:"sort",page:"page",perPage:"per_page"}}},appendParams:{type:Object,default(){return{}}},httpOptions:{type:Object,default(){return{}}},httpFetch:{type:Function,default:null},perPage:{type:Number,default:10},initialPage:{type:Number,default:1},firstPage:{type:Number,default:1},sortOrder:{type:Array,default(){return[]}},multiSort:{type:Boolean,default:!1},tableHeight:{type:String,default:null},multiSortKey:{type:String,default:"alt"},rowClass:{type:[String,Function],default:""},detailRowComponent:{type:[String,Object],default:""},detailRowTransition:{type:String,default:""},detailRowClass:{type:[String,Function],default:"vuetable-detail-row"},detailRowOptions:{type:Object,default(){return{}}},trackBy:{type:String,default:"id"},css:{type:Object,default(){return{}}},minRows:{type:Number,default:0},silent:{type:Boolean,default:!1},noDataTemplate:{type:String,default(){return"No Data Available"}},showSortIcons:{type:Boolean,default:!0},headerRows:{type:Array,default(){return["VuetableRowHeader"]}},transform:{type:Function,default:null},sortParams:{type:Function,default:null},fieldPrefix:{type:String,default(){return"vuetable-field-"}},eventPrefix:{type:String,default(){return"vuetable:"}}},data(){return{tableFields:[],tableData:null,tablePagination:null,currentPage:this.initialPage,selectedTo:[],visibleDetailRows:[],lastScrollPosition:0,scrollBarWidth:"17px",scrollVisible:!1,customCss:{}}},computed:{version:()=>VERSION,useDetailRow(){return this.dataIsAvailable?this.detailRowComponent!=="":!1},dataIsAvailable(){return this.tableData?this.tableData.length>0:!1},hasRowIdentifier(){return this.tableData&&typeof this.tableData[0][this.trackBy]<"u"},countVisibleFields(){return this.tableFields.filter(e=>e.visible).length},countTableData(){return this.tableData===null?0:this.tableData.length},displayEmptyDataRow(){return this.countTableData===0&&this.noDataTemplate.length>0},lessThanMinRows(){return this.tableData===null||this.tableData.length===0?!0:this.tableData.length<this.minRows},blankRows(){return this.tableData===null||this.tableData.length===0?this.minRows:this.tableData.length>=this.minRows?0:this.minRows-this.tableData.length},isApiMode(){return this.apiMode},isDataMode(){return!this.apiMode},isFixedHeader(){return this.tableHeight!=null},vuetable(){return this}},created(){this.mergeCss(),this.normalizeFields(),this.normalizeSortOrder(),this.$nextTick(()=>{this.fireEvent("initialized",this.tableFields)})},mounted(){if(this.loadOnStart&&this.loadData(),this.isFixedHeader){this.scrollBarWidth=this.getScrollBarWidth()+"px";let e=this.$el.getElementsByClassName("vuetable-body-wrapper")[0];e!=null&&e.addEventListener("scroll",this.handleScroll)}},unmounted(){let e=this.$el.getElementsByClassName("vuetable-body-wrapper")[0];e!=null&&e.removeEventListener("scroll",this.handleScroll)},watch:{multiSort(e,l){e===!1&&this.sortOrder.length>1&&(this.sortOrder.splice(1),this.loadData())},apiUrl(e,l){this.reactiveApiUrl&&e!==l&&this.refresh()},data(e,l){this.setData(e)},tableHeight(e,l){this.checkScrollbarVisibility()},fields(e,l){this.normalizeFields()},perPage(e,l){this.reload()}},methods:{getScrollBarWidth(){const e=document.createElement("div"),l=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",l.style.width="100%",e.appendChild(l),document.body.appendChild(e);const a=e.offsetWidth;e.style.overflow="scroll";const i=l.offsetWidth;return document.body.removeChild(e),a-i},handleScroll(e){let l=e.currentTarget.scrollLeft;if(l!=this.lastScrollPosition){let a=this.$el.getElementsByClassName("vuetable-head-wrapper")[0];a!=null&&(a.scrollLeft=l),this.lastScrollPosition=l}},mergeCss(){this.customCss={...y.table,...this.css}},bodyClass(e,l){return[e,l.dataClass]},normalizeFields(){if(typeof this.fields>"u"){this.warn('You need to provide "fields" prop.');return}this.tableFields=[],this.fields.forEach((e,l)=>{this.tableFields.push(this.newField(e,l))})},newField(e,l){let a={name:"",titleClass:"",dataClass:"",sortField:null,formatter:null,visible:!0,width:null,$_index:l};if(typeof e=="string")return Object.assign({},a,{name:this.normalizeFieldName(e),title:this.makeTitle(e)});let i=Object.assign({},a,e);return i.name=this.normalizeFieldName(i.name),i.title===void 0&&(i.title=this.makeTitle(i.name)),i.formatter!==null&&typeof i.formatter!="function"&&(console.error(i.name+" field formatter must be a function"),i.formatter=null),i},normalizeFieldName(e){return e instanceof Object?e:typeof e=="string"&&e.replace("__",this.fieldPrefix)},setData(e){if(!(e===null||typeof e>"u")){if(this.fireEvent("loading"),Array.isArray(e)){this.tableData=e,this.fireEvent("loaded");return}this.tableData=this.getObjectValue(e,this.dataPath,null),this.tablePagination=this.getObjectValue(e,this.paginationPath,null),this.$nextTick(()=>{this.checkIfRowIdentifierExists(),this.updateHeader(),this.fireEvent("pagination-data",this.tablePagination),this.fireEvent("loaded")})}},checkIfRowIdentifierExists(){if(!!this.dataIsAvailable)return this.hasRowIdentifier?!0:(this.warn('Invalid your data! Use "track-by" prop to specify.'),!1)},makeTitle(e){return this.isFieldComponent(e)?"":this.titleCase(e.replace("."," "))},getFieldTitle(e){return typeof e.title=="function"?e.title():e.title},renderNormalField(e,l){return this.hasFormatter(e)?this.callFormatter(e,l):this.getObjectValue(l,e.name,"")},isFieldComponent(e){return e instanceof Object?!0:e.slice(0,this.fieldPrefix.length)===this.fieldPrefix||e.slice(0,2)==="__"},isFieldSlot(e){return typeof this.$slots[e]<"u"},titleCase(e){return e.replace(/\w+/g,l=>l.charAt(0).toUpperCase()+l.substr(1).toLowerCase())},camelCase(e,l="_"){return e.split(l).map(a=>self.titleCase(a)).join("")},loadData(e=this.loadSuccess,l=this.loadFailed){if(this.isDataMode){this.handleDataMode();return}return this.fireEvent("loading"),this.httpOptions.params=this.getAppendParams(this.getAllQueryParams()),this.fetch(this.apiUrl,this.httpOptions).then(e,l).catch(()=>l())},fetch(e,l){if(this.httpFetch)return this.httpFetch(e,l);if(this.httpMethod==="get")return w.default.get(e,l);{let a=l.params;return delete l.params,w.default.post(e,a,l)}},loadSuccess(e){this.fireEvent("load-success",e);let l=this.transform?this.transform(e.data):e.data;this.tableData=this.getObjectValue(l,this.dataPath,null),this.tablePagination=this.getObjectValue(l,this.paginationPath,null),this.tablePagination===null&&this.warn('vuetable: pagination-path "'+this.paginationPath+`" not found. It looks like the data returned from the server does not have pagination information or you may have set it incorrectly.
You can explicitly suppress this warning by setting pagination-path="".`),this.$nextTick(()=>{this.checkIfRowIdentifierExists(),this.updateHeader(),this.fireEvent("pagination-data",this.tablePagination),this.fireEvent("loaded")})},updateHeader(){setTimeout(this.checkScrollbarVisibility,80)},checkScrollbarVisibility(){this.$nextTick(()=>{let e=this.$el.getElementsByClassName("vuetable-body-wrapper")[0];e!=null&&(this.scrollVisible=e.scrollHeight>e.clientHeight,this.fireEvent("scrollbar-visible",this.scrollVisible))})},loadFailed(e){console.error("load-error",e),this.fireEvent("load-error",e),this.fireEvent("loaded")},fireEvent(){if(arguments.length===1)return this.$emit(this.eventPrefix+arguments[0]);if(arguments.length>1){let e=Array.from(arguments);return e[0]=this.eventPrefix+e[0],this.$emit.apply(this,e)}},warn(e){this.silent||console.warn(e)},getAllQueryParams(){let e={};return typeof this.queryParams=="function"?(e=this.queryParams(this.sortOrder,this.currentPage,this.perPage),typeof e=="object"?e:{}):(e[this.queryParams.sort]=this.getSortParam(),e[this.queryParams.page]=this.currentPage,e[this.queryParams.perPage]=this.perPage,e)},getSortParam(){return!this.sortOrder||this.sortOrder.field==""?"":typeof this.sortParams=="function"?this.sortParams(this.sortOrder):this.getDefaultSortParam()},getDefaultSortParam(){return this.sortOrder.map(e=>`${e.sortField}|${e.direction}`).join(",")},getAppendParams(e){for(let l in this.appendParams)e[l]=this.appendParams[l];return e},isSortable(e){return e.sortField!==null},currentSortOrderPosition(e){if(!this.isSortable(e))return!1;for(let l=0;l<this.sortOrder.length;l++)if(this.fieldIsInSortOrderPosition(e,l))return l;return!1},fieldIsInSortOrderPosition(e,l){return this.sortOrder[l].field===e.name&&this.sortOrder[l].sortField===e.sortField},orderBy(e,l){if(!this.isSortable(e))return;let a=this.multiSortKey.toLowerCase()+"Key";this.multiSort&&l[a]?this.multiColumnSort(e):this.singleColumnSort(e),this.currentPage=this.firstPage,(this.apiMode||this.dataManager)&&this.loadData()},addSortColumn(e,l){this.sortOrder.push({field:e.name,sortField:e.sortField,direction:"asc"})},removeSortColumn(e){this.sortOrder.splice(e,1)},setSortColumnDirection(e,l){this.sortOrder[e].direction=l},multiColumnSort(e){let l=this.currentSortOrderPosition(e);l===!1?this.addSortColumn(e,"asc"):this.sortOrder[l].direction==="asc"?this.setSortColumnDirection(l,"desc"):this.removeSortColumn(l)},singleColumnSort(e){if(this.sortOrder.length===0){this.addSortColumn(e,"asc");return}this.sortOrder.splice(1),this.fieldIsInSortOrderPosition(e,0)?this.sortOrder[0].direction=this.sortOrder[0].direction==="asc"?"desc":"asc":this.sortOrder[0].direction="asc",this.sortOrder[0].field=e.name,this.sortOrder[0].sortField=e.sortField},clearSortOrder(){this.sortOrder=[]},hasFormatter(e){return typeof e.formatter=="function"},callFormatter(e,l){if(!!this.hasFormatter(e)&&typeof e.formatter=="function")return e.formatter(this.getObjectValue(l,e.name),this)},getObjectValue(e,l,a){a=typeof a>"u"?null:a;let i=e;return l.trim()!=""&&l.split(".").forEach(s=>{if(i!==null&&typeof i[s]<"u"&&i[s]!==null)i=i[s];else{i=a;return}}),i},selectId(e){this.isSelectedRow(e)||this.selectedTo.push(e)},unselectId(e){this.selectedTo=this.selectedTo.filter(l=>l!==e)},isSelectedRow(e){return this.selectedTo.indexOf(e)>=0},clearSelectedValues(){this.selectedTo=[]},gotoPreviousPage(){this.currentPage>this.firstPage&&(this.currentPage--,this.loadData())},gotoNextPage(){this.currentPage<this.tablePagination.last_page&&(this.currentPage++,this.loadData())},gotoPage(e){e!=this.currentPage&&e>=this.firstPage&&e<=this.tablePagination.last_page&&(this.currentPage=e,this.loadData())},isVisibleDetailRow(e){return this.visibleDetailRows.indexOf(e)>=0},showDetailRow(e){this.isVisibleDetailRow(e)||this.visibleDetailRows.push(e),this.checkScrollbarVisibility()},hideDetailRow(e){this.isVisibleDetailRow(e)&&(this.visibleDetailRows.splice(this.visibleDetailRows.indexOf(e),1),this.updateHeader())},toggleDetailRow(e){this.isVisibleDetailRow(e)?this.hideDetailRow(e):this.showDetailRow(e)},showField(e){e<0||e>this.tableFields.length||(this.tableFields[e].visible=!0)},hideField(e){e<0||e>this.tableFields.length||(this.tableFields[e].visible=!1)},toggleField(e){e<0||e>this.tableFields.length||(this.tableFields[e].visible=!this.tableFields[e].visible)},makePagination(e=null,l=null,a=null){return e=e===null?0:e,l=l===null?this.perPage:l,a=a===null?this.currentPage:a,{total:e,per_page:l,current_page:a,last_page:Math.ceil(e/l)||0,next_page_url:"",prev_page_url:"",from:(a-1)*l+1,to:Math.min(a*l,e)}},normalizeSortOrder(){this.sortOrder.forEach(e=>{e.sortField=e.sortField||e.field})},handleDataMode(){if(this.data!==null&&Array.isArray(this.data)){this.setData(this.data);return}this.dataManager?this.callDataManager():this.setData(this.data)},callDataManager(){const e=this.dataManager(this.sortOrder,this.makePagination());this.isPromiseObject(e)?e.then(l=>this.setData(l)):this.setData(e)},isObject(e){return typeof e=="object"&&e!==null},isPromiseObject(e){return this.isObject(e)&&typeof e.then=="function"},onRowClass(e,l){return typeof this.rowClass=="function"?this.rowClass(e,l):this.rowClass},onDetailRowClass(e,l){return typeof this.detailRowClass=="function"?this.detailRowClass(e,l):this.detailRowClass},onRowClicked(e,l,a){return this.fireEvent("row-clicked",{data:e,index:l,event:a}),!0},onRowDoubleClicked(e,l,a){this.fireEvent("row-dblclicked",{data:e,index:l,event:a})},onDetailRowClick(e,l,a){this.fireEvent("detail-row-clicked",{data:e,index:l,event:a})},onCellClicked(e,l,a,i){this.fireEvent("cell-clicked",{data:e,index:l,field:a,event:i})},onCellDoubleClicked(e,l,a,i){this.fireEvent("cell-dblclicked",{data:e,index:l,field:a,event:i})},onCellRightClicked(e,l,a,i){this.fireEvent("cell-rightclicked",{data:e,index:l,field:a,event:i})},onMouseOver(e,l,a){this.fireEvent("row-mouseover",{data:e,index:l,event:a})},onFieldEvent(e,l){this.fireEvent("field-event",e,l,this)},onHeaderEvent(e,l){this.fireEvent("header-event",e,l,this)},onCheckboxToggled(e,l,a){let i=this.trackBy;if(a[i]===void 0){this.warn('checkbox field: The "'+this.trackBy+'" field does not exist! Make sure the field you specify in "track-by" prop does exist.');return}let o=a[i];e?this.selectId(o):this.unselectId(o),this.fireEvent("checkbox-toggled",e,l)},onCheckboxToggledAll(e){let l=this.trackBy;e?this.tableData.forEach(a=>{this.selectId(a[l])}):this.tableData.forEach(a=>{this.unselectId(a[l])}),this.fireEvent("checkbox-toggled-all",e)},changePage(e){e==="prev"?this.gotoPreviousPage():e==="next"?this.gotoNextPage():this.gotoPage(e)},reload(){return this.loadData()},refresh(){return this.currentPage=this.firstPage,this.loadData()},resetData(){this.tableData=null,this.tablePagination=null,this.fireEvent("data-reset")}}},X={key:0,class:"vuetable-head-wrapper"},ee={key:0},te={class:"vuetable-body"},le=["item-index","onClick","onDblclick","onMouseover"],ae=["innerHTML","onClick","onDblclick","onContextmenu"],se={key:0},ne=["colspan","innerHTML"],ie={class:"blank-row"},re={key:0};function oe(e,l,a,i,o,s){const c=t.resolveComponent("vuetable-col-group");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(o.customCss.tableWrapper)},[s.isFixedHeader?(t.openBlock(),t.createElementBlock("div",X,[t.createElementVNode("table",{class:t.normalizeClass(["vuetable",o.customCss.tableClass,o.customCss.tableHeaderClass])},[t.createVNode(c,{"is-header":!0,fieldPrefix:a.fieldPrefix},null,8,["fieldPrefix"]),t.createElementVNode("thead",null,[t.renderSlot(e.$slots,"tableHeader",{fields:o.tableFields},()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(a.headerRows,(n,d)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(n),{key:d,"onVuetable:headerEvent":s.onHeaderEvent},null,40,["onVuetable:headerEvent"]))),128))])])],2)])):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(["vuetable-body-wrapper",{"fixed-header":s.isFixedHeader}]),style:t.normalizeStyle({height:a.tableHeight})},[t.createElementVNode("table",{class:t.normalizeClass(["vuetable",s.isFixedHeader?"fixed-header":"",o.customCss.tableClass,o.customCss.tableBodyClass])},[t.createVNode(c,{fieldPrefix:a.fieldPrefix},null,8,["fieldPrefix"]),s.isFixedHeader?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("thead",ee,[t.renderSlot(e.$slots,"tableHeader",{fields:o.tableFields},()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(a.headerRows,(n,d)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(n),{key:d,"onVuetable:headerEvent":s.onHeaderEvent},null,40,["onVuetable:headerEvent"]))),128))])])),t.createElementVNode("tfoot",null,[t.renderSlot(e.$slots,"tableFooter",{fields:o.tableFields})]),t.createElementVNode("tbody",te,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.tableData,(n,d)=>(t.openBlock(),t.createElementBlock(t.Fragment,{key:d},[t.createElementVNode("tr",{"item-index":d,class:t.normalizeClass(s.onRowClass(n,d)),onClick:r=>s.onRowClicked(n,d,r),onDblclick:r=>s.onRowDoubleClicked(n,d,r),onMouseover:r=>s.onMouseOver(n,d,r)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.tableFields,(r,Be)=>(t.openBlock(),t.createElementBlock(t.Fragment,{key:Be},[r.visible?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[s.isFieldComponent(r.name)?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(r.name),{"row-data":n,"row-index":d,"row-field":r,vuetable:s.vuetable,class:t.normalizeClass(s.bodyClass("vuetable-component",r)),style:t.normalizeStyle({width:r.width}),key:n[a.trackBy],"onVuetable:fieldEvent":s.onFieldEvent},null,40,["row-data","row-index","row-field","vuetable","class","style","onVuetable:fieldEvent"])):s.isFieldSlot(r.name)?(t.openBlock(),t.createElementBlock("td",{key:1,class:t.normalizeClass(s.bodyClass("vuetable-slot",r)),style:t.normalizeStyle({width:r.width})},[t.renderSlot(e.$slots,r.name,{rowData:n,rowIndex:d,rowField:r})],6)):(t.openBlock(),t.createElementBlock("td",{key:2,class:t.normalizeClass(s.bodyClass("vuetable-td-"+r.name,r)),style:t.normalizeStyle({width:r.width}),innerHTML:s.renderNormalField(r,n),onClick:m=>s.onCellClicked(n,d,r,m),onDblclick:m=>s.onCellDoubleClicked(n,d,r,m),onContextmenu:m=>s.onCellRightClicked(n,d,r,m)},null,46,ae))],64)):t.createCommentVNode("",!0)],64))),128))],42,le),s.useDetailRow?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[s.isVisibleDetailRow(n[a.trackBy])?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(a.detailRowComponent),{"row-data":n,"row-index":d,options:a.detailRowOptions},null,8,["row-data","row-index","options"])),(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.comparisonRowComponent),{"row-data":n,"row-index":d,options:a.detailRowOptions},null,8,["row-data","row-index","options"]))],64)):t.createCommentVNode("",!0)],64)):t.createCommentVNode("",!0)],64))),128)),s.displayEmptyDataRow?(t.openBlock(),t.createElementBlock("tr",se,[t.createElementVNode("td",{colspan:s.countVisibleFields,class:"vuetable-empty-result",innerHTML:a.noDataTemplate},null,8,ne)])):t.createCommentVNode("",!0),s.lessThanMinRows?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(s.blankRows,n=>(t.openBlock(),t.createElementBlock("tr",ie,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.tableFields,(d,r)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[d.visible?(t.openBlock(),t.createElementBlock("td",re,"\xA0")):t.createCommentVNode("",!0)],64))),256))]))),256)):t.createCommentVNode("",!0)])],2)],6)],2)}const E=h(J,[["render",oe]]),P={emits:["vuetable-pagination:change-page"],props:{css:{type:Object,default(){return{}}},onEachSide:{type:Number,default(){return 2}},firstPage:{type:Number,default:1}},data:function(){return{eventPrefix:"vuetable-pagination:",tablePagination:null,customCss:{}}},computed:{totalPage(){return this.tablePagination===null?0:this.tablePagination.last_page-this.firstPage+1},lastPage(){return this.tablePagination===null?0:this.tablePagination.last_page},isOnFirstPage(){return this.tablePagination===null?!1:this.tablePagination.current_page===this.firstPage},isOnLastPage(){return this.tablePagination===null?!1:this.tablePagination.current_page===this.lastPage},notEnoughPages(){return this.totalPage<this.onEachSide*2+4},windowSize(){return this.onEachSide*2+1},windowStart(){return!this.tablePagination||this.tablePagination.current_page<=this.onEachSide?1:this.tablePagination.current_page>=this.totalPage-this.onEachSide?this.totalPage-this.onEachSide*2:this.tablePagination.current_page-this.onEachSide}},created(){this.mergeCss()},methods:{mergeCss(){this.customCss={...y.pagination,...this.css}},loadPage(e){this.$emit(this.eventPrefix+"change-page",e)},isCurrentPage(e){return e===this.tablePagination.current_page},setPaginationData(e){this.tablePagination=e},resetData(){this.tablePagination=null}}},S={props:{css:{type:Object,default(){return{}}},infoTemplate:{type:String,default(){return"Displaying {from} to {to} of {total} items"}},noDataTemplate:{type:String,default(){return"No relevant data"}}},data:function(){return{tablePagination:null,customCss:{}}},computed:{paginationInfo(){return this.tablePagination==null||this.tablePagination.total==0?this.noDataTemplate:this.infoTemplate.replace("{from}",this.tablePagination.from||0).replace("{to}",this.tablePagination.to||0).replace("{total}",this.tablePagination.total||0)}},created(){this.mergeCss()},methods:{mergeCss(){this.customCss={...y.paginationInfo,...this.css}},setPaginationData(e){this.tablePagination=e},resetData(){this.tablePagination=null}}},De="",ce={mixins:[P]},de={key:1},he={key:1},ue=["onClick","innerHTML"],me=["onClick","innerHTML"],be={key:1},ge={key:1};function fe(e,l,a,i,o,s){return t.withDirectives((t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.customCss.wrapperClass)},[t.createElementVNode("a",{onClick:l[0]||(l[0]=c=>e.loadPage(e.firstPage)),class:t.normalizeClass(["btn-nav",e.customCss.linkClass,e.isOnFirstPage?e.customCss.disabledClass:""])},[e.customCss.icons.first!=""?(t.openBlock(),t.createElementBlock("i",{key:0,class:t.normalizeClass([e.customCss.icons.first])},null,2)):(t.openBlock(),t.createElementBlock("span",de,"\xAB"))],2),t.createElementVNode("a",{onClick:l[1]||(l[1]=c=>e.loadPage("prev")),class:t.normalizeClass(["btn-nav",e.customCss.linkClass,e.isOnFirstPage?e.customCss.disabledClass:""])},[e.customCss.icons.next!=""?(t.openBlock(),t.createElementBlock("i",{key:0,class:t.normalizeClass([e.customCss.icons.prev])},null,2)):(t.openBlock(),t.createElementBlock("span",he,"\xA0\u2039"))],2),e.notEnoughPages?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(e.totalPage,(c,n)=>(t.openBlock(),t.createElementBlock("a",{key:n,onClick:d=>e.loadPage(n+e.firstPage),class:t.normalizeClass([e.customCss.pageClass,e.isCurrentPage(n+e.firstPage)?e.customCss.activeClass:""]),innerHTML:c},null,10,ue))),128)):(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(e.windowSize,(c,n)=>(t.openBlock(),t.createElementBlock("a",{key:n,onClick:d=>e.loadPage(e.windowStart+n+e.firstPage-1),class:t.normalizeClass([e.customCss.pageClass,e.isCurrentPage(e.windowStart+n+e.firstPage-1)?e.customCss.activeClass:""]),innerHTML:e.windowStart+c-1},null,10,me))),128)),t.createElementVNode("a",{onClick:l[2]||(l[2]=c=>e.loadPage("next")),class:t.normalizeClass(["btn-nav",e.customCss.linkClass,e.isOnLastPage?e.customCss.disabledClass:""])},[e.customCss.icons.next!=""?(t.openBlock(),t.createElementBlock("i",{key:0,class:t.normalizeClass([e.customCss.icons.next])},null,2)):(t.openBlock(),t.createElementBlock("span",be,"\u203A\xA0"))],2),t.createElementVNode("a",{onClick:l[3]||(l[3]=c=>e.loadPage(e.lastPage)),class:t.normalizeClass(["btn-nav",e.customCss.linkClass,e.isOnLastPage?e.customCss.disabledClass:""])},[e.customCss.icons.last!=""?(t.openBlock(),t.createElementBlock("i",{key:0,class:t.normalizeClass([e.customCss.icons.last])},null,2)):(t.openBlock(),t.createElementBlock("span",ge,"\xBB"))],2)],2)),[[t.vShow,e.tablePagination&&e.lastPage>e.firstPage]])}const F=h(ce,[["render",fe]]),pe={mixins:[P],props:{pageText:{type:String,default(){return"Page"}}}},ke=["value","selected"];function Ce(e,l,a,i,o,s){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass([e.customCss.wrapperClass])},[t.createElementVNode("a",{onClick:l[0]||(l[0]=c=>e.loadPage("prev")),class:t.normalizeClass([e.customCss.linkClass,{[e.customCss.disabledClass]:e.isOnFirstPage}])},[t.createElementVNode("i",{class:t.normalizeClass(e.customCss.icons.prev)},null,2)],2),t.createElementVNode("select",{class:t.normalizeClass(["vuetable-pagination-dropdown",e.customCss.dropdownClass]),onChange:l[1]||(l[1]=c=>e.loadPage(c.target.selectedIndex+e.firstPage))},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.totalPage,(c,n)=>(t.openBlock(),t.createElementBlock("option",{key:c,class:t.normalizeClass([e.customCss.pageClass]),value:n+e.firstPage,selected:e.isCurrentPage(n+e.firstPage)},t.toDisplayString(a.pageText)+" "+t.toDisplayString(c),11,ke))),128))],34),t.createElementVNode("a",{onClick:l[2]||(l[2]=c=>e.loadPage("next")),class:t.normalizeClass([e.customCss.linkClass,{[e.customCss.disabledClass]:e.isOnLastPage}])},[t.createElementVNode("i",{class:t.normalizeClass(e.customCss.icons.next)},null,2)],2)],2)}const D=h(pe,[["render",Ce]]),Ve="",ye={mixins:[S]},Pe=["innerHTML"];function we(e,l,a,i,o,s){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["vuetable-pagination-info",e.customCss.infoClass]),innerHTML:e.paginationInfo},null,10,Pe)}const V=h(ye,[["render",we]]);return{Vuetable:E,VuetablePagination:F,VuetablePaginationDropDown:D,VuetablePaginationInfo:V,VuetableFieldCheckbox:g,VuetableFieldHandle:f,VuetableFieldSequence:p,VuetableRowHeader:C,VuetableColGutter:k,VuetableFieldMixin:b,VuetableFieldCheckboxMixin:B,VuetablePaginationMixin:P,VuetablePaginationInfoMixin:S,install(e,l){e.component("Vuetable",E),e.component("VuetablePagination",F),e.component("VuetablePaginationDropDown",D),e.component("VuetablePaginationInfo",V),e.component("VuetableFieldCheckbox",g),e.component("VuetableFieldHandle",f),e.component("VuetableRowHeader",C),e.component("VuetableColGutter",k),e.component("VuetableFieldSequence",p)}}});
