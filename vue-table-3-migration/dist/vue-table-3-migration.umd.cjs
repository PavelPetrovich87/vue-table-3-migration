(function(u,t){typeof exports=="object"&&typeof module<"u"?module.exports=t(require("axios"),require("vue")):typeof define=="function"&&define.amd?define(["axios","vue"],t):(u=typeof globalThis<"u"?globalThis:u||self,u["vue-table-migation"]=t(u.axios,u.Vue))})(this,function(u,t){"use strict";const f=(e=>e&&typeof e=="object"&&"default"in e?e:{default:e})(u),b={props:{rowData:{type:Object,default:null},rowIndex:{type:Number},rowField:{type:Object},isHeader:{type:Boolean,default:!1},title:{type:String,default:""},vuetable:{type:Object,default:null}}},k={mixins:[b],methods:{toggleCheckbox(e,a){this.vuetable.onCheckboxToggled(a.target.checked,this.rowField.name,e)},toggleAllCheckbox(e){this.vuetable.onCheckboxToggledAll(e.target.checked)},isSelected(e){return this.vuetable.isSelectedRow(e[this.vuetable.trackBy])},isAllItemsInCurrentPageSelected(){if(!this.vuetable.tableData)return;let e=this.vuetable.trackBy,a=this.$el.querySelector("input[type=checkbox]"),l=this.vuetable.tableData.filter(i=>this.vuetable.isSelectedRow(i[e]));return l.length<=0?(a.indeterminate=!1,!1):l.length<this.vuetable.perPage?(a.indeterminate=!0,!0):(a.indeterminate=!1,!0)}}},h=(e,a)=>{const l=e.__vccOpts||e;for(const[i,o]of a)l[i]=o;return l},S={name:"vuetable-field-checkbox",mixins:[k]},_={key:0,class:"vuetable-th-component-checkbox"},F=["checked"],D={key:1,class:"vuetable-td-component-checkbox"},V=["checked"];function O(e,a,l,i,o,n){return e.isHeader?(t.openBlock(),t.createElementBlock("th",_,[t.createElementVNode("input",{type:"checkbox",onChange:a[0]||(a[0]=c=>e.toggleAllCheckbox(c)),checked:e.isAllItemsInCurrentPageSelected()},null,40,F)])):(t.openBlock(),t.createElementBlock("td",D,[t.createElementVNode("input",{type:"checkbox",onChange:a[1]||(a[1]=c=>e.toggleCheckbox(e.rowData,c)),checked:e.isSelected(e.rowData)},null,40,V)]))}const y=h(S,[["render",O]]),$={name:"vuetable-field-handle",mixins:[b],computed:{css(){return this.vuetable.$_css}},methods:{renderIconTag(e,a=""){return typeof this.css.renderIcon>"u"?`<i class="${e.join(" ")}" ${a}></i>`:this.css.renderIcon(e,a)}}},T=["innerHTML"],R=["innerHTML"];function H(e,a,l,i,o,n){return e.isHeader?(t.openBlock(),t.createElementBlock("th",{key:0,class:"vuetable-th-component-handle",innerHTML:e.title},null,8,T)):(t.openBlock(),t.createElementBlock("td",{key:1,class:"vuetable-td-component-handle",innerHTML:n.renderIconTag(["handle-icon",n.css.handleIcon])},null,8,R))}const C=h($,[["render",H]]),I={name:"vuetable-field-sequence",mixins:[b],methods:{renderSequence(){return this.vuetable.tablePagination?this.vuetable.tablePagination.from+this.rowIndex:1+this.rowIndex}}},z=["innerHTML"],M=["innerHTML"];function N(e,a,l,i,o,n){return e.isHeader?(t.openBlock(),t.createElementBlock("th",{key:0,class:"vuetable-th-component-sequence",innerHTML:e.title},null,8,z)):(t.openBlock(),t.createElementBlock("td",{key:1,class:"vuetable-td-component-sequence",innerHTML:n.renderSequence()},null,8,M))}const P=h(I,[["render",N]]),Ee="",L={name:"vuetable-th-gutter",computed:{vuetable(){return this.$parent}}};function j(e,a,l,i,o,n){return t.openBlock(),t.createElementBlock("th",{style:t.normalizeStyle({width:n.vuetable.scrollBarWidth}),class:"vuetable-th-gutter"},null,4)}const w=h(L,[["render",j]]),x={components:{"vuetable-field-checkbox":y,"vuetable-field-handle":C,"vuetable-field-sequence":P,VuetableColGutter:w},computed:{sortOrder(){return this.$parent.sortOrder},css(){return this.$parent.$_css},vuetable(){return this.$parent}},methods:{stripPrefix(e){return e.replace(this.vuetable.fieldPrefix,"")},headerClass(e,a){return[e+"-"+this.toSnakeCase(a.name),a.titleClass||"",this.sortClass(a),{sortable:this.vuetable.isSortable(a)}]},toSnakeCase(e){return typeof e=="string"&&e.replace(/([A-Z])/g,a=>"_"+a.toLowerCase()).replace(" ","_").replace(".","_")},sortClass(e){let a="",l=this.currentSortOrderPosition(e);return l!==!1&&(a=this.sortOrder[l].direction=="asc"?this.css.ascendingClass:this.css.descendingClass),a},sortIcon(e){let a=this.css.sortableIcon,l=this.currentSortOrderPosition(e);return l!==!1&&(a=this.sortOrder[l].direction=="asc"?this.css.ascendingIcon:this.css.descendingIcon),a},isInCurrentSortGroup(e){return this.currentSortOrderPosition(e)!==!1},hasSortableIcon(e){return this.vuetable.isSortable(e)&&this.css.sortableIcon!=""},currentSortOrderPosition(e){if(!this.vuetable.isSortable(e))return!1;for(let a=0;a<this.sortOrder.length;a++)if(this.fieldIsInSortOrderPosition(e,a))return a;return!1},fieldIsInSortOrderPosition(e,a){return this.sortOrder[a].field===e.name&&this.sortOrder[a].sortField===e.sortField},renderTitle(e){let a=this.getTitle(e);if(a.length>0&&this.isInCurrentSortGroup(e)||this.hasSortableIcon(e)){let l=`opacity:${this.sortIconOpacity(e)};position:relative;float:right`,i=this.vuetable.showSortIcons?this.renderIconTag(["sort-icon",this.sortIcon(e)],`style="${l}"`):"";return a+" "+i}return a},getTitle(e){return typeof e.title=="function"?e.title():typeof e.title>"u"?e.name.replace("."," "):e.title},sortIconOpacity(e){let a=1,l=.3,i=.3,o=this.sortOrder.length,n=this.currentSortOrderPosition(e);return a-o*i<l&&(i=(a-l)/(o-1)),a-n*i},renderIconTag(e,a=""){return typeof this.css.renderIcon>"u"?`<i class="${e.join(" ")}" ${a}></i>`:this.css.renderIcon(e,a)},onColumnHeaderClicked(e,a){this.vuetable.orderBy(e,a)}}},A=["innerHTML","onClick"],q=["onClick","id","innerHTML"];function W(e,a,l,i,o,n){const c=t.resolveComponent("vuetable-col-gutter");return t.openBlock(),t.createElementBlock("tr",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.vuetable.tableFields,(s,d)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[s.visible?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[n.vuetable.isFieldComponent(s.name)?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(s.name),{"row-field":s,"is-header":!0,title:n.renderTitle(s),vuetable:n.vuetable,key:d,class:t.normalizeClass(n.headerClass("vuetable-th-component",s)),style:t.normalizeStyle({width:s.width}),"onVuetable:headerEvent":n.vuetable.onHeaderEvent,onClick:r=>n.onColumnHeaderClicked(s,r)},null,40,["row-field","title","vuetable","class","style","onVuetable:headerEvent","onClick"])):n.vuetable.isFieldSlot(s.name)?(t.openBlock(),t.createElementBlock("th",{class:t.normalizeClass(n.headerClass("vuetable-th-slot",s)),key:d,style:t.normalizeStyle({width:s.width}),innerHTML:n.renderTitle(s),onClick:r=>n.onColumnHeaderClicked(s,r)},null,14,A)):(t.openBlock(),t.createElementBlock("th",{onClick:r=>n.onColumnHeaderClicked(s,r),key:d,id:"_"+s.name,class:t.normalizeClass(n.headerClass("vuetable-th",s)),style:t.normalizeStyle({width:s.width}),innerHTML:n.renderTitle(s)},null,14,q))],64)):t.createCommentVNode("",!0)],64))),256)),n.vuetable.scrollVisible?(t.openBlock(),t.createBlock(c,{key:0})):t.createCommentVNode("",!0)])}const B=h(x,[["render",W]]),G={name:"vuetable-col-group",props:{isHeader:{type:Boolean,default:!1}},computed:{vuetable(){return this.$parent}},methods:{columnClass(e,a){let l=typeof e.name=="object"&&e.name!==null?e.name.name:e.name;return l=l.replace(this.fieldPrefix,""),["vuetable-col-"+l,e.titleClass]}}};function U(e,a,l,i,o,n){return t.openBlock(),t.createElementBlock("colgroup",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.vuetable.tableFields,(c,s)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[c.visible?(t.openBlock(),t.createElementBlock("col",{key:s,style:t.normalizeStyle({width:c.width}),class:t.normalizeClass(n.columnClass(c,s))},null,6)):t.createCommentVNode("",!0)],64))),256)),l.isHeader&&n.vuetable.scrollVisible?(t.openBlock(),t.createElementBlock("col",{key:0,style:t.normalizeStyle({width:n.vuetable.scrollBarWidth}),class:"vuetable-col-gutter"},null,4)):t.createCommentVNode("",!0)])}const K=h(G,[["render",U]]),g={table:{tableWrapper:"",tableHeaderClass:"fixed",tableBodyClass:"fixed",tableClass:"ui blue selectable unstackable celled table",loadingClass:"loading",ascendingIcon:"blue chevron up icon",descendingIcon:"blue chevron down icon",ascendingClass:"sorted-asc",descendingClass:"sorted-desc",sortableIcon:"grey sort icon",handleIcon:"grey sidebar icon"},pagination:{wrapperClass:"ui right floated pagination menu",activeClass:"active large",disabledClass:"disabled",pageClass:"item",linkClass:"icon item",paginationClass:"ui bottom attached segment grid",paginationInfoClass:"left floated left aligned six wide column",dropdownClass:"ui search dropdown",icons:{first:"angle double left icon",prev:"left chevron icon",next:"right chevron icon",last:"angle double right icon"}},paginationInfo:{infoClass:"left floated left aligned six wide column"}},Se="",Q={name:"Vuetable",components:{VuetableRowHeader:B,VuetableColGroup:K},props:{fields:{type:Array,required:!0},loadOnStart:{type:Boolean,default:!0},apiUrl:{type:String,default:""},httpMethod:{type:String,default:"get",validator:e=>["get","post"].indexOf(e)>-1},reactiveApiUrl:{type:Boolean,default:!0},apiMode:{type:Boolean,default:!0},data:{type:[Array,Object],default:null},dataManager:{type:Function,default:null},dataPath:{type:String,default:"data"},paginationPath:{type:String,default:"links.pagination"},queryParams:{type:[Object,Function],default(){return{sort:"sort",page:"page",perPage:"per_page"}}},appendParams:{type:Object,default(){return{}}},httpOptions:{type:Object,default(){return{}}},httpFetch:{type:Function,default:null},perPage:{type:Number,default:10},initialPage:{type:Number,default:1},firstPage:{type:Number,default:1},sortOrder:{type:Array,default(){return[]}},multiSort:{type:Boolean,default:!1},tableHeight:{type:String,default:null},multiSortKey:{type:String,default:"alt"},rowClass:{type:[String,Function],default:""},detailRowComponent:{type:[String,Object],default:""},comparisonRowComponent:{type:[String,Object],default:""},detailRowTransition:{type:String,default:""},detailRowClass:{type:[String,Function],default:"vuetable-detail-row"},detailRowOptions:{type:Object,default(){return{}}},trackBy:{type:String,default:"id"},css:{type:Object,default(){return{}}},minRows:{type:Number,default:0},silent:{type:Boolean,default:!1},noDataTemplate:{type:String,default(){return"No Data Available"}},showSortIcons:{type:Boolean,default:!0},headerRows:{type:Array,default(){return["VuetableRowHeader"]}},transform:{type:Function,default:null},sortParams:{type:Function,default:null},fieldPrefix:{type:String,default(){return"vuetable-field-"}},eventPrefix:{type:String,default(){return"vuetable:"}}},data(){return{tableFields:[],tableData:null,tablePagination:null,currentPage:this.initialPage,selectedTo:[],visibleDetailRows:[],lastScrollPosition:0,scrollBarWidth:"17px",scrollVisible:!1,$_css:{}}},computed:{version:()=>VERSION,useDetailRow(){return this.dataIsAvailable?this.detailRowComponent!=="":!1},dataIsAvailable(){return this.tableData?this.tableData.length>0:!1},hasRowIdentifier(){return this.tableData&&typeof this.tableData[0][this.trackBy]<"u"},countVisibleFields(){return this.tableFields.filter(e=>e.visible).length},countTableData(){return this.tableData===null?0:this.tableData.length},displayEmptyDataRow(){return this.countTableData===0&&this.noDataTemplate.length>0},lessThanMinRows(){return this.tableData===null||this.tableData.length===0?!0:this.tableData.length<this.minRows},blankRows(){return this.tableData===null||this.tableData.length===0?this.minRows:this.tableData.length>=this.minRows?0:this.minRows-this.tableData.length},isApiMode(){return this.apiMode},isDataMode(){return!this.apiMode},isFixedHeader(){return this.tableHeight!=null},vuetable(){return this}},created(){this.mergeCss(),this.normalizeFields(),this.normalizeSortOrder(),this.$nextTick(()=>{this.fireEvent("initialized",this.tableFields)})},mounted(){if(this.loadOnStart&&this.loadData(),this.isFixedHeader){this.scrollBarWidth=this.getScrollBarWidth()+"px";let e=this.$el.getElementsByClassName("vuetable-body-wrapper")[0];e!=null&&e.addEventListener("scroll",this.handleScroll)}},destroyed(){let e=this.$el.getElementsByClassName("vuetable-body-wrapper")[0];e!=null&&e.removeEventListener("scroll",this.handleScroll)},watch:{multiSort(e,a){e===!1&&this.sortOrder.length>1&&(this.sortOrder.splice(1),this.loadData())},apiUrl(e,a){this.reactiveApiUrl&&e!==a&&this.refresh()},data(e,a){this.setData(e)},tableHeight(e,a){this.checkScrollbarVisibility()},fields(e,a){this.normalizeFields()},perPage(e,a){this.reload()}},methods:{getScrollBarWidth(){const e=document.createElement("div"),a=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",a.style.width="100%",e.appendChild(a),document.body.appendChild(e);const l=e.offsetWidth;e.style.overflow="scroll";const i=a.offsetWidth;return document.body.removeChild(e),l-i},handleScroll(e){let a=e.currentTarget.scrollLeft;if(a!=this.lastScrollPosition){let l=this.$el.getElementsByClassName("vuetable-head-wrapper")[0];l!=null&&(l.scrollLeft=a),this.lastScrollPosition=a}},mergeCss(){this.$_css={...g.table,...this.css}},bodyClass(e,a){return[e,a.dataClass]},normalizeFields(){if(typeof this.fields>"u"){this.warn('You need to provide "fields" prop.');return}this.tableFields=[],this.fields.forEach((e,a)=>{this.tableFields.push(this.newField(e,a))})},newField(e,a){let l={name:"",titleClass:"",dataClass:"",sortField:null,formatter:null,visible:!0,width:null,$_index:a};if(typeof e=="string")return Object.assign({},l,{name:this.normalizeFieldName(e),title:this.makeTitle(e)});let i=Object.assign({},l,e);return i.name=this.normalizeFieldName(i.name),i.title===void 0&&(i.title=this.makeTitle(i.name)),i.formatter!==null&&typeof i.formatter!="function"&&(console.error(i.name+" field formatter must be a function"),i.formatter=null),i},normalizeFieldName(e){return e instanceof Object?e:typeof e=="string"&&e.replace("__",this.fieldPrefix)},setData(e){if(!(e===null||typeof e>"u")){if(this.fireEvent("loading"),Array.isArray(e)){this.tableData=e,this.fireEvent("loaded");return}this.tableData=this.getObjectValue(e,this.dataPath,null),this.tablePagination=this.getObjectValue(e,this.paginationPath,null),this.$nextTick(()=>{this.checkIfRowIdentifierExists(),this.updateHeader(),this.fireEvent("pagination-data",this.tablePagination),this.fireEvent("loaded")})}},checkIfRowIdentifierExists(){if(!!this.dataIsAvailable)return this.hasRowIdentifier?!0:(this.warn('Invalid your data! Use "track-by" prop to specify.'),!1)},makeTitle(e){return this.isFieldComponent(e)?"":this.titleCase(e.replace("."," "))},getFieldTitle(e){return typeof e.title=="function"?e.title():e.title},renderNormalField(e,a){return this.hasFormatter(e)?this.callFormatter(e,a):this.getObjectValue(a,e.name,"")},isFieldComponent(e){return e instanceof Object?!0:e.slice(0,this.fieldPrefix.length)===this.fieldPrefix||e.slice(0,2)==="__"},isFieldSlot(e){return typeof this.$scopedSlots[e]<"u"},titleCase(e){return e.replace(/\w+/g,a=>a.charAt(0).toUpperCase()+a.substr(1).toLowerCase())},camelCase(e,a="_"){return e.split(a).map(l=>self.titleCase(l)).join("")},loadData(e=this.loadSuccess,a=this.loadFailed){if(this.isDataMode){this.handleDataMode();return}return this.fireEvent("loading"),this.httpOptions.params=this.getAppendParams(this.getAllQueryParams()),this.fetch(this.apiUrl,this.httpOptions).then(e,a).catch(()=>a())},fetch(e,a){if(this.httpFetch)return this.httpFetch(e,a);if(this.httpMethod==="get")return f.default.get(e,a);{let l=a.params;return delete a.params,f.default.post(e,l,a)}},loadSuccess(e){this.fireEvent("load-success",e);let a=this.transform?this.transform(e.data):e.data;this.tableData=this.getObjectValue(a,this.dataPath,null),this.tablePagination=this.getObjectValue(a,this.paginationPath,null),this.tablePagination===null&&this.warn('vuetable: pagination-path "'+this.paginationPath+`" not found. It looks like the data returned from the server does not have pagination information or you may have set it incorrectly.
You can explicitly suppress this warning by setting pagination-path="".`),this.$nextTick(()=>{this.checkIfRowIdentifierExists(),this.updateHeader(),this.fireEvent("pagination-data",this.tablePagination),this.fireEvent("loaded")})},updateHeader(){setTimeout(this.checkScrollbarVisibility,80)},checkScrollbarVisibility(){this.$nextTick(()=>{let e=this.$el.getElementsByClassName("vuetable-body-wrapper")[0];e!=null&&(this.scrollVisible=e.scrollHeight>e.clientHeight,this.fireEvent("scrollbar-visible",this.scrollVisible))})},loadFailed(e){console.error("load-error",e),this.fireEvent("load-error",e),this.fireEvent("loaded")},fireEvent(){if(arguments.length===1)return this.$emit(this.eventPrefix+arguments[0]);if(arguments.length>1){let e=Array.from(arguments);return e[0]=this.eventPrefix+e[0],this.$emit.apply(this,e)}},warn(e){this.silent||console.warn(e)},getAllQueryParams(){let e={};return typeof this.queryParams=="function"?(e=this.queryParams(this.sortOrder,this.currentPage,this.perPage),typeof e=="object"?e:{}):(e[this.queryParams.sort]=this.getSortParam(),e[this.queryParams.page]=this.currentPage,e[this.queryParams.perPage]=this.perPage,e)},getSortParam(){return!this.sortOrder||this.sortOrder.field==""?"":typeof this.sortParams=="function"?this.sortParams(this.sortOrder):this.getDefaultSortParam()},getDefaultSortParam(){return this.sortOrder.map(e=>`${e.sortField}|${e.direction}`).join(",")},getAppendParams(e){for(let a in this.appendParams)e[a]=this.appendParams[a];return e},isSortable(e){return e.sortField!==null},currentSortOrderPosition(e){if(!this.isSortable(e))return!1;for(let a=0;a<this.sortOrder.length;a++)if(this.fieldIsInSortOrderPosition(e,a))return a;return!1},fieldIsInSortOrderPosition(e,a){return this.sortOrder[a].field===e.name&&this.sortOrder[a].sortField===e.sortField},orderBy(e,a){if(!this.isSortable(e))return;let l=this.multiSortKey.toLowerCase()+"Key";this.multiSort&&a[l]?this.multiColumnSort(e):this.singleColumnSort(e),this.currentPage=this.firstPage,(this.apiMode||this.dataManager)&&this.loadData()},addSortColumn(e,a){this.sortOrder.push({field:e.name,sortField:e.sortField,direction:"asc"})},removeSortColumn(e){this.sortOrder.splice(e,1)},setSortColumnDirection(e,a){this.sortOrder[e].direction=a},multiColumnSort(e){let a=this.currentSortOrderPosition(e);a===!1?this.addSortColumn(e,"asc"):this.sortOrder[a].direction==="asc"?this.setSortColumnDirection(a,"desc"):this.removeSortColumn(a)},singleColumnSort(e){if(this.sortOrder.length===0){this.addSortColumn(e,"asc");return}this.sortOrder.splice(1),this.fieldIsInSortOrderPosition(e,0)?this.sortOrder[0].direction=this.sortOrder[0].direction==="asc"?"desc":"asc":this.sortOrder[0].direction="asc",this.sortOrder[0].field=e.name,this.sortOrder[0].sortField=e.sortField},clearSortOrder(){this.sortOrder=[]},hasFormatter(e){return typeof e.formatter=="function"},callFormatter(e,a){if(!!this.hasFormatter(e)&&typeof e.formatter=="function")return e.formatter(this.getObjectValue(a,e.name),this)},getObjectValue(e,a,l){l=typeof l>"u"?null:l;let i=e;return a.trim()!=""&&a.split(".").forEach(n=>{if(i!==null&&typeof i[n]<"u"&&i[n]!==null)i=i[n];else{i=l;return}}),i},selectId(e){this.isSelectedRow(e)||this.selectedTo.push(e)},unselectId(e){this.selectedTo=this.selectedTo.filter(a=>a!==e)},isSelectedRow(e){return this.selectedTo.indexOf(e)>=0},clearSelectedValues(){this.selectedTo=[]},gotoPreviousPage(){this.currentPage>this.firstPage&&(this.currentPage--,this.loadData())},gotoNextPage(){this.currentPage<this.tablePagination.last_page&&(this.currentPage++,this.loadData())},gotoPage(e){e!=this.currentPage&&e>=this.firstPage&&e<=this.tablePagination.last_page&&(this.currentPage=e,this.loadData())},isVisibleDetailRow(e){return this.visibleDetailRows.indexOf(e)>=0},showDetailRow(e){this.isVisibleDetailRow(e)||this.visibleDetailRows.push(e),this.checkScrollbarVisibility()},hideDetailRow(e){this.isVisibleDetailRow(e)&&(this.visibleDetailRows.splice(this.visibleDetailRows.indexOf(e),1),this.updateHeader())},toggleDetailRow(e){this.isVisibleDetailRow(e)?this.hideDetailRow(e):this.showDetailRow(e)},showField(e){e<0||e>this.tableFields.length||(this.tableFields[e].visible=!0)},hideField(e){e<0||e>this.tableFields.length||(this.tableFields[e].visible=!1)},toggleField(e){e<0||e>this.tableFields.length||(this.tableFields[e].visible=!this.tableFields[e].visible)},makePagination(e=null,a=null,l=null){return e=e===null?0:e,a=a===null?this.perPage:a,l=l===null?this.currentPage:l,{total:e,per_page:a,current_page:l,last_page:Math.ceil(e/a)||0,next_page_url:"",prev_page_url:"",from:(l-1)*a+1,to:Math.min(l*a,e)}},normalizeSortOrder(){this.sortOrder.forEach(e=>{e.sortField=e.sortField||e.field})},handleDataMode(){if(this.data!==null&&Array.isArray(this.data)){this.setData(this.data);return}this.dataManager?this.callDataManager():this.setData(this.data)},callDataManager(){const e=this.dataManager(this.sortOrder,this.makePagination());this.isPromiseObject(e)?e.then(a=>this.setData(a)):this.setData(e)},isObject(e){return typeof e=="object"&&e!==null},isPromiseObject(e){return this.isObject(e)&&typeof e.then=="function"},onRowClass(e,a){return typeof this.rowClass=="function"?this.rowClass(e,a):this.rowClass},onDetailRowClass(e,a){return typeof this.detailRowClass=="function"?this.detailRowClass(e,a):this.detailRowClass},onRowClicked(e,a,l){return this.fireEvent("row-clicked",{data:e,index:a,event:l}),!0},onRowDoubleClicked(e,a,l){this.fireEvent("row-dblclicked",{data:e,index:a,event:l})},onDetailRowClick(e,a,l){this.fireEvent("detail-row-clicked",{data:e,index:a,event:l})},onCellClicked(e,a,l,i){this.fireEvent("cell-clicked",{data:e,index:a,field:l,event:i})},onCellDoubleClicked(e,a,l,i){this.fireEvent("cell-dblclicked",{data:e,index:a,field:l,event:i})},onCellRightClicked(e,a,l,i){this.fireEvent("cell-rightclicked",{data:e,index:a,field:l,event:i})},onMouseOver(e,a,l){this.fireEvent("row-mouseover",{data:e,index:a,event:l})},onFieldEvent(e,a){this.fireEvent("field-event",e,a,this)},onHeaderEvent(e,a){this.fireEvent("header-event",e,a,this)},onCheckboxToggled(e,a,l){let i=this.trackBy;if(l[i]===void 0){this.warn('checkbox field: The "'+this.trackBy+'" field does not exist! Make sure the field you specify in "track-by" prop does exist.');return}let o=l[i];e?this.selectId(o):this.unselectId(o),this.fireEvent("checkbox-toggled",e,a)},onCheckboxToggledAll(e){let a=this.trackBy;e?this.tableData.forEach(l=>{this.selectId(l[a])}):this.tableData.forEach(l=>{this.unselectId(l[a])}),this.fireEvent("checkbox-toggled-all",e)},changePage(e){e==="prev"?this.gotoPreviousPage():e==="next"?this.gotoNextPage():this.gotoPage(e)},reload(){return this.loadData()},refresh(){return this.currentPage=this.firstPage,this.loadData()},resetData(){this.tableData=null,this.tablePagination=null,this.fireEvent("data-reset")}}},Y={key:0,class:"vuetable-head-wrapper"},Z={key:0},v={class:"vuetable-body"},J=["item-index","onClick","onDblclick","onMouseover"],X=["innerHTML","onClick","onDblclick","onContextmenu"],ee={key:0},te=["colspan","innerHTML"],ae={key:0};function le(e,a,l,i,o,n){const c=t.resolveComponent("vuetable-col-group");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(o.$_css.tableWrapper)},[n.isFixedHeader?(t.openBlock(),t.createElementBlock("div",Y,[t.createElementVNode("table",{class:t.normalizeClass(["vuetable",o.$_css.tableClass,o.$_css.tableHeaderClass])},[t.createVNode(c,{"is-header":!0}),t.createElementVNode("thead",null,[t.renderSlot(e.$slots,"tableHeader",{fields:o.tableFields},()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.headerRows,(s,d)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(s),{key:d,"onVuetable:headerEvent":n.onHeaderEvent},null,40,["onVuetable:headerEvent"]))),128))])])],2)])):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(["vuetable-body-wrapper",{"fixed-header":n.isFixedHeader}]),style:t.normalizeStyle({height:l.tableHeight})},[t.createElementVNode("table",{class:t.normalizeClass(["vuetable",n.isFixedHeader?"fixed-header":"",o.$_css.tableClass,o.$_css.tableBodyClass])},[t.createVNode(c),n.isFixedHeader?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("thead",Z,[t.renderSlot(e.$slots,"tableHeader",{fields:o.tableFields},()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.headerRows,(s,d)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(s),{key:d,"onVuetable:headerEvent":n.onHeaderEvent},null,40,["onVuetable:headerEvent"]))),128))])])),t.createElementVNode("tfoot",null,[t.renderSlot(e.$slots,"tableFooter",{fields:o.tableFields})]),t.createElementVNode("tbody",v,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.tableData,(s,d)=>(t.openBlock(),t.createElementBlock(t.Fragment,{key:d},[t.createElementVNode("tr",{"item-index":d,class:t.normalizeClass(n.onRowClass(s,d)),onClick:r=>n.onRowClicked(s,d,r),onDblclick:r=>n.onRowDoubleClicked(s,d,r),onMouseover:r=>n.onMouseOver(s,d,r)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.tableFields,(r,we)=>(t.openBlock(),t.createElementBlock(t.Fragment,{key:we},[r.visible?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[n.isFieldComponent(r.name)?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(r.name),{key:0,"row-data":s,"row-index":d,"row-field":r,vuetable:n.vuetable,class:t.normalizeClass(n.bodyClass("vuetable-component",r)),style:t.normalizeStyle({width:r.width}),"onVuetable:fieldEvent":n.onFieldEvent},null,40,["row-data","row-index","row-field","vuetable","class","style","onVuetable:fieldEvent"])):n.isFieldSlot(r.name)?(t.openBlock(),t.createElementBlock("td",{key:1,class:t.normalizeClass(n.bodyClass("vuetable-slot",r)),style:t.normalizeStyle({width:r.width})},[t.renderSlot(e.$slots,r.name,{rowData:s,rowIndex:d,rowField:r})],6)):(t.openBlock(),t.createElementBlock("td",{key:2,class:t.normalizeClass(n.bodyClass("vuetable-td-"+r.name,r)),style:t.normalizeStyle({width:r.width}),innerHTML:n.renderNormalField(r,s),onClick:m=>n.onCellClicked(s,d,r,m),onDblclick:m=>n.onCellDoubleClicked(s,d,r,m),onContextmenu:m=>n.onCellRightClicked(s,d,r,m)},null,46,X))],64)):t.createCommentVNode("",!0)],64))),128))],42,J),n.useDetailRow?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[n.isVisibleDetailRow(s[l.trackBy])?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(l.detailRowComponent),{"row-data":s,"row-index":d,options:l.detailRowOptions},null,8,["row-data","row-index","options"])),(t.openBlock(),t.createBlock(t.resolveDynamicComponent(l.comparisonRowComponent),{"row-data":s,"row-index":d,options:l.detailRowOptions},null,8,["row-data","row-index","options"]))],64)):t.createCommentVNode("",!0)],64)):t.createCommentVNode("",!0)],64))),128)),n.displayEmptyDataRow?(t.openBlock(),t.createElementBlock("tr",ee,[t.createElementVNode("td",{colspan:n.countVisibleFields,class:"vuetable-empty-result",innerHTML:l.noDataTemplate},null,8,te)])):t.createCommentVNode("",!0),n.lessThanMinRows?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(n.blankRows,s=>(t.openBlock(),t.createElementBlock("tr",{key:s,class:"blank-row"},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.tableFields,(d,r)=>(t.openBlock(),t.createElementBlock(t.Fragment,{key:r},[d.visible?(t.openBlock(),t.createElementBlock("td",ae,"\xA0")):t.createCommentVNode("",!0)],64))),128))]))),128)):t.createCommentVNode("",!0)])],2)],6)],2)}const ne=h(Q,[["render",le]]),p={props:{css:{type:Object,default(){return{}}},onEachSide:{type:Number,default(){return 2}},firstPage:{type:Number,default:1}},data:function(){return{eventPrefix:"vuetable-pagination:",tablePagination:null,$_css:{}}},computed:{totalPage(){return this.tablePagination===null?0:this.tablePagination.last_page-this.firstPage+1},lastPage(){return this.tablePagination===null?0:this.tablePagination.last_page},isOnFirstPage(){return this.tablePagination===null?!1:this.tablePagination.current_page===this.firstPage},isOnLastPage(){return this.tablePagination===null?!1:this.tablePagination.current_page===this.lastPage},notEnoughPages(){return this.totalPage<this.onEachSide*2+4},windowSize(){return this.onEachSide*2+1},windowStart(){return!this.tablePagination||this.tablePagination.current_page<=this.onEachSide?1:this.tablePagination.current_page>=this.totalPage-this.onEachSide?this.totalPage-this.onEachSide*2:this.tablePagination.current_page-this.onEachSide}},created(){this.mergeCss()},methods:{mergeCss(){this.$_css={...g.pagination,...this.css}},loadPage(e){this.$emit(this.eventPrefix+"change-page",e)},isCurrentPage(e){return e===this.tablePagination.current_page},setPaginationData(e){this.tablePagination=e},resetData(){this.tablePagination=null}}},E={props:{css:{type:Object,default(){return{}}},infoTemplate:{type:String,default(){return"Displaying {from} to {to} of {total} items"}},noDataTemplate:{type:String,default(){return"No relevant data"}}},data:function(){return{tablePagination:null,$_css:{}}},computed:{paginationInfo(){return this.tablePagination==null||this.tablePagination.total==0?this.noDataTemplate:this.infoTemplate.replace("{from}",this.tablePagination.from||0).replace("{to}",this.tablePagination.to||0).replace("{total}",this.tablePagination.total||0)}},created(){this.mergeCss()},methods:{mergeCss(){this.$_css={...g.paginationInfo,...this.css}},setPaginationData(e){this.tablePagination=e},resetData(){this.tablePagination=null}}},_e="",se={mixins:[p]},ie={key:1},re={key:1},oe=["onClick","innerHTML"],ce=["onClick","innerHTML"],de={key:1},he={key:1};function ue(e,a,l,i,o,n){return t.withDirectives((t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.$_css.wrapperClass)},[t.createElementVNode("a",{onClick:a[0]||(a[0]=c=>e.loadPage(e.firstPage)),class:t.normalizeClass(["btn-nav",e.$_css.linkClass,e.isOnFirstPage?e.$_css.disabledClass:""])},[e.$_css.icons.first!=""?(t.openBlock(),t.createElementBlock("i",{key:0,class:t.normalizeClass([e.$_css.icons.first])},null,2)):(t.openBlock(),t.createElementBlock("span",ie,"\xAB"))],2),t.createElementVNode("a",{onClick:a[1]||(a[1]=c=>e.loadPage("prev")),class:t.normalizeClass(["btn-nav",e.$_css.linkClass,e.isOnFirstPage?e.$_css.disabledClass:""])},[e.$_css.icons.next!=""?(t.openBlock(),t.createElementBlock("i",{key:0,class:t.normalizeClass([e.$_css.icons.prev])},null,2)):(t.openBlock(),t.createElementBlock("span",re,"\xA0\u2039"))],2),e.notEnoughPages?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(e.totalPage,(c,s)=>(t.openBlock(),t.createElementBlock("a",{key:s,onClick:d=>e.loadPage(s+e.firstPage),class:t.normalizeClass([e.$_css.pageClass,e.isCurrentPage(s+e.firstPage)?e.$_css.activeClass:""]),innerHTML:c},null,10,oe))),128)):(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(e.windowSize,(c,s)=>(t.openBlock(),t.createElementBlock("a",{key:s,onClick:d=>e.loadPage(e.windowStart+s+e.firstPage-1),class:t.normalizeClass([e.$_css.pageClass,e.isCurrentPage(e.windowStart+s+e.firstPage-1)?e.$_css.activeClass:""]),innerHTML:e.windowStart+c-1},null,10,ce))),128)),t.createElementVNode("a",{onClick:a[2]||(a[2]=c=>e.loadPage("next")),class:t.normalizeClass(["btn-nav",e.$_css.linkClass,e.isOnLastPage?e.$_css.disabledClass:""])},[e.$_css.icons.next!=""?(t.openBlock(),t.createElementBlock("i",{key:0,class:t.normalizeClass([e.$_css.icons.next])},null,2)):(t.openBlock(),t.createElementBlock("span",de,"\u203A\xA0"))],2),t.createElementVNode("a",{onClick:a[3]||(a[3]=c=>e.loadPage(e.lastPage)),class:t.normalizeClass(["btn-nav",e.$_css.linkClass,e.isOnLastPage?e.$_css.disabledClass:""])},[e.$_css.icons.last!=""?(t.openBlock(),t.createElementBlock("i",{key:0,class:t.normalizeClass([e.$_css.icons.last])},null,2)):(t.openBlock(),t.createElementBlock("span",he,"\xBB"))],2)],2)),[[t.vShow,e.tablePagination&&e.lastPage>e.firstPage]])}const me=h(se,[["render",ue]]),be={mixins:[p],props:{pageText:{type:String,default(){return"Page"}}},methods:{registerEvents(){this.$on("vuetable:pagination-data",e=>{this.setPaginationData(e)})}},created(){this.registerEvents()}},ge=["value","selected"];function pe(e,a,l,i,o,n){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass([e.$_css.wrapperClass])},[t.createElementVNode("a",{onClick:a[0]||(a[0]=c=>e.loadPage("prev")),class:t.normalizeClass([e.$_css.linkClass,{[e.$_css.disabledClass]:e.isOnFirstPage}])},[t.createElementVNode("i",{class:t.normalizeClass(e.$_css.icons.prev)},null,2)],2),t.createElementVNode("select",{class:t.normalizeClass(["vuetable-pagination-dropdown",e.$_css.dropdownClass]),onChange:a[1]||(a[1]=c=>e.loadPage(c.target.selectedIndex+e.firstPage))},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.totalPage,(c,s)=>(t.openBlock(),t.createElementBlock("option",{key:c,class:t.normalizeClass([e.$_css.pageClass]),value:s+e.firstPage,selected:e.isCurrentPage(s+e.firstPage)},t.toDisplayString(l.pageText)+" "+t.toDisplayString(c),11,ge))),128))],34),t.createElementVNode("a",{onClick:a[2]||(a[2]=c=>e.loadPage("next")),class:t.normalizeClass([e.$_css.linkClass,{[e.$_css.disabledClass]:e.isOnLastPage}])},[t.createElementVNode("i",{class:t.normalizeClass(e.$_css.icons.next)},null,2)],2)],2)}const fe=h(be,[["render",pe]]),Fe="",ke={mixins:[E]},ye=["innerHTML"];function Ce(e,a,l,i,o,n){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["vuetable-pagination-info",e.$_css.infoClass]),innerHTML:e.paginationInfo},null,10,ye)}const Pe=h(ke,[["render",Ce]]);return{VuetableFieldMixin:b,VuetableFieldCheckboxMixin:k,VuetablePaginationMixin:p,VuetablePaginationInfoMixin:E,install(e,a){e.component("Vuetable",ne),e.component("VuetablePagination",me),e.component("VuetablePaginationDropDown",fe),e.component("VuetablePaginationInfo",Pe),e.component("VuetableFieldCheckbox",y),e.component("VuetableFieldHandle",C),e.component("VuetableRowHeader",B),e.component("VuetableColGutter",w),e.component("VuetableFieldSequence",P)}}});
